<!doctype html>
<html>
   <head>
      <title>Guild Wars 2 - Maps</title>

      <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
      <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>

      <script type="text/javascript">
         var map;

         $(document).ready(function() {
            map = L.map('map', {
               center: [0, 0],
               zoom: 4
            });

            map.setMaxBounds(new L.LatLngBounds(
               map.unproject([0, 32768], 7),
               map.unproject([32768, 0], 7))
            );

            L.tileLayer("https://{s}.guildwars2.com/1/1/{z}/{x}/{y}.jpg", {
               minZoom: 0,
               maxZoom: 7,
               continuousWorld: true,
               subdomains: ['tiles1', 'tiles2', 'tiles3', 'tiles4']
            }).addTo(map);

            L.marker(map.unproject([13332.6, 11492.2], 7), {
               title: 'Sepratist Camp',
               zIndexOffset: 500
            }).addTo(map);

            L.marker(map.unproject([13199.6, 12035.5], 7), {
               title: 'Beetletun Waypoint',
               zIndexOffset: 500
            }).addTo(map);
         });

         function get_json(url) {
            var obj;

            $.ajax({
               url: url,
               async: false,
               success: function(json) {
                  obj = json;
               }
            });

            return obj;
         }

      </script>

      <link rel="stylesheet" href="css/main.css" />
      <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />

   </head>
   <body>
      <h1>Guild Wars 2 Maps</h1>

      <div id="github">
         <a href="https://github.com/amarriner/GuildWars2Recipes">Github</a>
      </div>

      <div id="map"></div>

   </body>
</html>
